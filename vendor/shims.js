//JsMockito
var JsMockito={version:"1.0.4",_export:["isMock","when","verify","verifyZeroInteractions","verifyNoMoreInteractions","spy"],isMock:function(a){return typeof a._jsMockitoVerifier!="undefined"},when:function(a){return a._jsMockitoStubBuilder()},verify:function(b,a){return(a||JsMockito.Verifiers.once()).verify(b)},verifyZeroInteractions:function(){JsMockito.each(arguments,function(a){JsMockito.Verifiers.zeroInteractions().verify(a)})},verifyNoMoreInteractions:function(){JsMockito.each(arguments,function(a){JsMockito.Verifiers.noMoreInteractions().verify(a)})},spy:function(a){return(typeof a=="function")?JsMockito.mockFunction(a):JsMockito.mock(a,a)},contextCaptureFunction:function(b,c){var a=function(){return a.apply(b,Array.prototype.slice.call(arguments,0))};a.call=function(d){return a.apply(d,Array.prototype.slice.call(arguments,1))};a.apply=function(e,d){return c.apply(this,[e,d||[]])};return a},matchArray:function(a,b){if(a.length>b.length){return false}return !JsMockito.any(a,function(d,c){return !d.matches(b[c])})},toMatcher:function(a){return JsHamcrest.isMatcher(a)?a:JsHamcrest.Matchers.equalTo(a)},mapToMatchers:function(a){return JsMockito.map(a,function(b){return JsMockito.toMatcher(b)})},verifier:function(a,b){JsMockito.Verifiers[a]=function(){JsMockito.Verifier.apply(this,arguments)};JsMockito.Verifiers[a].prototype=new JsMockito.Verifier;JsMockito.Verifiers[a].prototype.constructor=JsMockito.Verifiers[a];JsMockito.extend(JsMockito.Verifiers[a].prototype,b)},each:function(c,b){for(var a=0;a<c.length;a++){b(c[a],a)}},eachObject:function(b,c){for(var a in b){c(b[a],a)}},extend:function(b,a){for(var c in a){b[c]=a[c]}return b},objectKeys:function(b){var a=[];JsMockito.eachObject(b,function(d,c){a.push(c)});return a},objectValues:function(b){var a=[];JsMockito.eachObject(b,function(d,c){a.push(d)});return a},map:function(c,b){var a=[];JsMockito.each(c,function(e,d){var f=b(e,d);if(f!=null){a.push(f)}});return a},grep:function(c,b){var a=[];JsMockito.each(c,function(e,d){if(b(e,d)){a.push(e)}});return a},find:function(c,b){for(var a=0;a<c.length;a++){if(b(c[a],a)){return c[a]}}return undefined},any:function(b,a){return(JsMockito.find(b,a)!=undefined)},propertyNames:function(d){if(Object.getOwnPropertyNames){var c=Object.getPrototypeOf(d);if(!c){return[]}var f=JsMockito.propertyNames(c);var a=Object.getOwnPropertyNames(d);JsMockito.each(a,function(g){if(!JsMockito.any(f,function(h){h==g})){f.push(g)}});return f}else{var e=[];for(var b in d){e.push(b)}return e}},propertyDescriptor:function(c,b){if(!Object.getOwnPropertyDescriptor){return undefined}var d=Object.getOwnPropertyDescriptor(c,b);if(d!=undefined){return d}var a=Object.getPrototypeOf(c);if(!a||!Object.getPrototypeOf(a)){return undefined}return this.propertyDescriptor(a,b)},defineProperty:function(b,a,c){if(!Object.defineProperty){b[a]=c.value;return}Object.defineProperty(b,a,c)},overwriteProperty:function(b,a,c){JsMockito.defineProperty(b,a,{enumerable:c.enumerable,configurable:true,writable:true,value:c.value})}};if(typeof exports!=="undefined"){exports.JsMockito=JsMockito}JsMockito.mockFunction=function(e,b){if(typeof e=="function"){b=e;e=undefined}e=e||"func";b=b||function(){};var d=[];var f=[];var c=function(){var h=[this];h.push.apply(h,arguments);f.push({args:h});var g=JsMockito.find(d,function(k){return JsMockito.matchArray(k[0],h)});if(g==undefined){return b.apply(this,arguments)}var j=g[1];if(j.length==0){return undefined}var i=j[0];if(j.length>1){j.shift()}return i.apply(this,arguments)};c.prototype=b.prototype;JsMockito.defineProperty(c,"_jsMockitoStubBuilder",{enumerable:false,value:function(g){var g=g||JsHamcrest.Matchers.anything();return a(g,function(h){var i=[h,[]];d.unshift(i);return{then:function(){i[1].push.apply(i[1],arguments);return this},thenReturn:function(){return this.then.apply(this,JsMockito.map(arguments,function(j){return function(){return j}}))},thenThrow:function(j){return this.then.apply(this,JsMockito.map(arguments,function(k){return function(){throw k}}))}}})}});JsMockito.defineProperty(c,"_jsMockitoVerifier",{enumerable:false,value:function(g,h){var h=h||JsHamcrest.Matchers.anything();return a(h,function(i){return g(e,f,i,i[0]!=h)})}});JsMockito.defineProperty(c,"_jsMockitoMockFunctions",{enumerable:false,value:function(){return[c]}});return c;function a(h,g){return JsMockito.contextCaptureFunction(h,function(k,j){var i=JsMockito.mapToMatchers([k].concat(j||[]));return g(i)})}};JsMockito._export.push("mockFunction");JsMockito.mock=function(f,j){j=j||{};var g=function(){};try{g.prototype=(typeof f==="function")?new f:f}catch(h){throw new Error("mocked constructor threw an exception (consider mocking an object instead of a constructor)")}g.prototype.constructor=g;var i=new g();var k={};var a={};var c=[];var b=JsHamcrest.Matchers.sameAs(i);var d=function(m){var p;if(j[m]!=undefined){p=function(){var q=(this==i)?j:this;return j[m].apply(q,arguments)}}var n=JsMockito.mockFunction("obj."+m,p);var o=JsMockito.propertyDescriptor(i,m);var e=o?o.enumerable:true;JsMockito.defineProperty(i,m,{enumerable:e,writable:true,configurable:true,value:n});k[m]={enumerable:e,value:n._jsMockitoStubBuilder};a[m]={enumerable:e,value:n._jsMockitoVerifier};c.push(n)};JsMockito.each(JsMockito.propertyNames(i),function(e){if(e=="constructor"){return}if(typeof i[e]==="function"){d(e)}else{if(j[e]!=undefined){if(Object.defineProperty){Object.defineProperty(i,e,{get:function(){return j[e]},set:function(m){j[e]=m}})}else{i[e]=j[e]}}}});for(var l in JsMockito.nativeTypes){if(i instanceof JsMockito.nativeTypes[l].type){JsMockito.each(JsMockito.nativeTypes[l].methods,function(e){d(e)})}}JsMockito.defineProperty(i,"_jsMockitoStubBuilder",{enumerable:false,value:function(){var e=new g();JsMockito.eachObject(k,function(n,m){JsMockito.overwriteProperty(e,m,{enumerable:n.enumerable,value:n.value.call(this,b)})});return e}});JsMockito.defineProperty(i,"_jsMockitoVerifier",{enumerable:false,value:function(e){var m=new g();JsMockito.eachObject(a,function(o,n){JsMockito.overwriteProperty(m,n,{enumerable:o.enumerable,value:o.value.call(this,e,b)})});return m}});JsMockito.defineProperty(i,"_jsMockitoMockFunctions",{enumerable:false,value:function(){return c}});return i};JsMockito._export.push("mock");JsMockito.nativeTypes={Array:{type:Array,methods:["concat","join","pop","push","reverse","shift","slice","sort","splice","toString","unshift","valueOf"]},Boolean:{type:Boolean,methods:["toString","valueOf"]},Date:{type:Date,methods:["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCMonth","getUTCFullYear","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCMonth","setUTCFullYear","setUTCHours","setUTCMinutes","setUTCSeconds","setUTCMilliseconds","setYear","toDateString","toGMTString","toLocaleDateString","toLocaleTimeString","toLocaleString","toString","toTimeString","toUTCString","valueOf"]},Number:{type:Number,methods:["toExponential","toFixed","toLocaleString","toPrecision","toString","valueOf"]},String:{type:String,methods:["anchor","big","blink","bold","charAt","charCodeAt","concat","fixed","fontcolor","fontsize","indexOf","italics","lastIndexOf","link","match","replace","search","slice","small","split","strike","sub","substr","substring","sup","toLowerCase","toUpperCase","valueOf"]},RegExp:{type:RegExp,methods:["compile","exec","test"]}};JsMockito.Verifiers={_export:["never","zeroInteractions","noMoreInteractions","times","once","atLeast","atMost"],never:function(){return new JsMockito.Verifiers.Times(0)},zeroInteractions:function(){return new JsMockito.Verifiers.ZeroInteractions()},noMoreInteractions:function(){return new JsMockito.Verifiers.NoMoreInteractions()},times:function(a){return new JsMockito.Verifiers.Times(a)},once:function(){return new JsMockito.Verifiers.Times(1)},atLeast:function(a){return new JsMockito.Verifiers.AtLeast(a)},atMost:function(a){return new JsMockito.Verifiers.AtMost(a)}};JsMockito.Verifier=function(){this.init.apply(this,arguments)};JsMockito.Verifier.prototype={init:function(){},verify:function(a){var b=this;return a._jsMockitoVerifier(function(){b.verifyInteractions.apply(b,arguments)})},verifyInteractions:function(c,d,a,b){},updateVerifiedInteractions:function(a){JsMockito.each(a,function(b){b.verified=true})},buildDescription:function(d,e,a,b){var c=new JsHamcrest.Description();c.append(d+": "+e+"(");JsMockito.each(a.slice(1),function(g,f){if(f>0){c.append(", ")}c.append("<");g.describeTo(c);c.append(">")});c.append(")");if(b){c.append(", 'this' being ");a[0].describeTo(c)}return c}};JsMockito.verifier("Times",{init:function(a){this.wanted=a},verifyInteractions:function(f,e,a,b){var g=JsMockito.grep(e,function(h){return JsMockito.matchArray(a,h.args)});if(g.length==this.wanted){this.updateVerifiedInteractions(g);return}var d;if(g.length==0){d="Wanted but not invoked"}else{if(this.wanted==0){d="Never wanted but invoked"}else{if(this.wanted==1){d="Wanted 1 invocation but got "+g.length}else{d="Wanted "+this.wanted+" invocations but got "+g.length}}}var c=this.buildDescription(d,f,a,b);throw new Error(c.get())}});JsMockito.verifier("AtLeast",{init:function(a){this.wanted=a},verifyInteractions:function(f,e,a,b){var g=JsMockito.grep(e,function(h){return JsMockito.matchArray(a,h.args)});if(g.length>=this.wanted){this.updateVerifiedInteractions(g);return}var d;if(g.length==0){d="Wanted but not invoked"}else{if(this.wanted==0){d="Never wanted but invoked"}else{if(this.wanted==1){d="Wanted at least 1 invocation but got "+g.length}else{d="Wanted at least "+this.wanted+" invocations but got "+g.length}}}var c=this.buildDescription(d,f,a,b);throw new Error(c.get())}});JsMockito.verifier("AtMost",{init:function(a){this.wanted=a},verifyInteractions:function(f,e,a,b){var g=JsMockito.grep(e,function(h){return JsMockito.matchArray(a,h.args)});if(g.length<=this.wanted){this.updateVerifiedInteractions(g);return}var d;if(g.length==0){d="Wanted but not invoked"}else{if(this.wanted==0){d="Never wanted but invoked"}else{if(this.wanted==1){d="Wanted at most 1 invocation but got "+g.length}else{d="Wanted at most "+this.wanted+" invocations but got "+g.length}}}var c=this.buildDescription(d,f,a,b);throw new Error(c.get())}});JsMockito.verifier("ZeroInteractions",{verify:function(a){var b=JsMockito.Verifiers.never();JsMockito.each(a._jsMockitoMockFunctions(),function(c){b.verify(c)()})}});JsMockito.verifier("NoMoreInteractions",{verify:function(a){var b=this;JsMockito.each(a._jsMockitoMockFunctions(),function(c){JsMockito.Verifier.prototype.verify.call(b,c)()})},verifyInteractions:function(e,d,a,b){var f=JsMockito.grep(d,function(g){return g.verified!=true});if(f.length==0){return}var c=this.buildDescription("No interactions wanted, but "+f.length+" remains",e,a,b);throw new Error(c.get())}});JsMockito.Integration={importTo:function(a){JsMockito.each(JsMockito._export,function(b){a[b]=JsMockito[b]});JsMockito.each(JsMockito.Verifiers._export,function(b){a[b]=JsMockito.Verifiers[b]})},screwunit:function(){JsMockito.Integration.importTo(Screw.Matchers)},JsTestDriver:function(){JsMockito.Integration.importTo(window)},jasmine:function(){JsMockito.Integration.importTo(window)},Nodeunit:function(){JsMockito.Integration.importTo(global)},JsUnitTest:function(){JsMockito.Integration.importTo(JsUnitTest.Unit.Testcase.prototype)},YUITest:function(){JsMockito.Integration.importTo(window)},QUnit:function(){JsMockito.Integration.importTo(window)},jsUnity:function(){JsMockito.Integration.importTo(jsUnity.env.defaultScope)},jSpec:function(){JsMockito.Integration.importTo(jSpec.defaultContext)}};

//JsHamcrest
var JsHamcrest={version:"0.7.0",EqualTo:function(b){return function(a){return!JsHamcrest.isMatcher(a)?b(JsHamcrest.Matchers.equalTo(a)):b(a)}},isMatcher:function(b){return b instanceof JsHamcrest.SimpleMatcher},areArraysEqual:function(b,a){if(b instanceof Array||a instanceof Array){if(b.length!=a.length)return!1;for(var c=0;c<b.length;c++){var d=b[c],e=a[c];if(d instanceof Array||e instanceof Array){if(!JsHamcrest.areArraysEqual(d,e))return!1}else if(d!=e)return!1}return!0}return b==a},areArraysEquivalent:function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        a){if(b.length!==a.length)return!1;for(var c=0;c<b.length;c++)if(!1===JsHamcrest.areTwoEntitiesEquivalent(b[c],a[c]))return!1;return!0},areMapsEquivalent:function(b,a){return JsHamcrest.simpleMapCompare(b,a)&&JsHamcrest.simpleMapCompare(a,b)?!0:!1},simpleMapCompare:function(b,a){for(var c in b)if(b.hasOwnProperty(c)&&!JsHamcrest.areTwoEntitiesEquivalent(b[c],a[c]))return!1;return!0},areTwoEntitiesEquivalent:function(b,a){var c=JsHamcrest.retreiveEntityMatcherFunction(b),d=JsHamcrest.retreiveEntityMatcherFunction(a);
  return c===d&&c(b,a)?!0:!1},retreiveEntityMatcherFunction:function(b){return Array.isArray&&Array.isArray(b)||b instanceof Array?JsHamcrest.areArraysEquivalent:b instanceof Boolean?JsHamcrest.areBooleansEqual:b instanceof Date?JsHamcrest.areDatesEqual:b instanceof Function?JsHamcrest.areFunctionsEqual:b instanceof Number||"number"===typeof b?JsHamcrest.areNumbersEqual:b instanceof String||"string"===typeof b?JsHamcrest.areStringsEqual:b instanceof RegExp?JsHamcrest.areRegExpEqual:b instanceof Error?
  JsHamcrest.areErrorsEqual:"undefined"===typeof b?JsHamcrest.areEntitiesUndefined:null===b?JsHamcrest.areEntitiesNull:b.constructor===Object?JsHamcrest.areMapsEquivalent:JsHamcrest.areEntitiesStrictlyEquals},areBooleansEqual:function(b,a){return b.toString()===a.toString()},areDatesEqual:function(b,a){return b.toString()===a.toString()},areFunctionsEqual:function(b,a){return b===a},areNumbersEqual:function(b,a){return b.valueOf()===a.valueOf()},areStringsEqual:function(b,a){return b.valueOf()===a.valueOf()},
  areRegExpEqual:function(b,a){return b.toString()===a.toString()},areErrorsEqual:function(b,a){return b.constructor===a.constructor&&b.message===a.message},areEntitiesUndefined:function(b,a){return b===a},areEntitiesNull:function(b,a){return b===a},areEntitiesStrictlyEquals:function(b,a){return b===a},SimpleMatcher:function(b){b=b||{};this.matches=b.matches;this.describeTo=b.describeTo;b.describeValueTo&&(this.describeValueTo=b.describeValueTo)},CombinableMatcher:function(b){JsHamcrest.SimpleMatcher.apply(this,
    arguments);b=b||{};this.and=function(a){var b=JsHamcrest.Matchers.allOf(this,a);return new JsHamcrest.CombinableMatcher({matches:b.matches,describeTo:function(a){a.appendDescriptionOf(b)}})};this.or=function(a){var b=JsHamcrest.Matchers.anyOf(this,a);return new JsHamcrest.CombinableMatcher({matches:b.matches,describeTo:function(a){a.appendDescriptionOf(b)}})}},Description:function(){var b="";this.get=function(){return b};this.appendDescriptionOf=function(a){a&&a.describeTo(this);return this};this.append=
    function(a){null!=a&&(b+=a);return this};this.appendLiteral=function(a){void 0===a?this.append("undefined"):null===a?this.append("null"):a instanceof Array?this.appendValueList("[",", ","]",a):"string"==typeof a?this.append('"'+a+'"'):a instanceof Function?this.append("Function"+(a.name?" "+a.name:"")):this.append(a);return this};this.appendValueList=function(a,b,d,e){this.append(a);for(a=0;a<e.length;a++)0<a&&this.append(b),this.appendLiteral(e[a]);this.append(d);return this};this.appendList=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               b,d,e){this.append(a);for(a=0;a<e.length;a++)0<a&&this.append(b),this.appendDescriptionOf(e[a]);this.append(d);return this}}};JsHamcrest.SimpleMatcher.prototype.describeValueTo=function(b,a){a.appendLiteral(b)};JsHamcrest.CombinableMatcher.prototype=new JsHamcrest.SimpleMatcher;JsHamcrest.CombinableMatcher.prototype.constructor=JsHamcrest.CombinableMatcher;JsHamcrest.Matchers={};JsHamcrest.Matchers.truth=function(){return new JsHamcrest.SimpleMatcher({matches:function(b){return b},describeTo:function(b){b.append("truth")}})};
JsHamcrest.Matchers.is=JsHamcrest.EqualTo(function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return b.matches(a)},describeTo:function(a){a.append("is ").appendDescriptionOf(b)}})});JsHamcrest.Matchers.not=JsHamcrest.EqualTo(function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return!b.matches(a)},describeTo:function(a){a.append("not ").appendDescriptionOf(b)}})});
JsHamcrest.Matchers.equalTo=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return b instanceof Array||a instanceof Array?JsHamcrest.areArraysEqual(b,a):a==b},describeTo:function(a){a.append("equal to ").appendLiteral(b)}})};JsHamcrest.Matchers.anything=function(){return new JsHamcrest.SimpleMatcher({matches:function(){return!0},describeTo:function(b){b.append("anything")}})};
JsHamcrest.Matchers.nil=function(){return new JsHamcrest.SimpleMatcher({matches:function(b){return null==b},describeTo:function(b){b.appendLiteral(null)}})};JsHamcrest.Matchers.sameAs=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return a===b},describeTo:function(a){a.append("same as ").appendLiteral(b)}})};JsHamcrest.Matchers.raises=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){try{a()}catch(c){if(c.name==b)return!0;throw c;}return!1},describeTo:function(a){a.append("raises ").append(b)}})};
JsHamcrest.Matchers.raisesAnything=function(){return new JsHamcrest.SimpleMatcher({matches:function(b){try{b()}catch(a){return!0}return!1},describeTo:function(b){b.append("raises anything")}})};JsHamcrest.Matchers.both=JsHamcrest.EqualTo(function(b){return new JsHamcrest.CombinableMatcher({matches:b.matches,describeTo:function(a){a.append("both ").appendDescriptionOf(b)}})});JsHamcrest.Matchers.either=JsHamcrest.EqualTo(function(b){return new JsHamcrest.CombinableMatcher({matches:b.matches,describeTo:function(a){a.append("either ").appendDescriptionOf(b)}})});
JsHamcrest.Matchers.allOf=function(){var b=arguments;b[0]instanceof Array&&(b=b[0]);return new JsHamcrest.SimpleMatcher({matches:function(a){for(var c=0;c<b.length;c++){var d=b[c];JsHamcrest.isMatcher(d)||(d=JsHamcrest.Matchers.equalTo(d));if(!d.matches(a))return!1}return!0},describeTo:function(a){a.appendList("("," and ",")",b)}})};
JsHamcrest.Matchers.anyOf=function(){var b=arguments;b[0]instanceof Array&&(b=b[0]);return new JsHamcrest.SimpleMatcher({matches:function(a){for(var c=0;c<b.length;c++){var d=b[c];JsHamcrest.isMatcher(d)||(d=JsHamcrest.Matchers.equalTo(d));if(d.matches(a))return!0}return!1},describeTo:function(a){a.appendList("("," or ",")",b)}})};JsHamcrest.Matchers.greaterThan=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return a>b},describeTo:function(a){a.append("greater than ").appendLiteral(b)}})};
JsHamcrest.Matchers.greaterThanOrEqualTo=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return a>=b},describeTo:function(a){a.append("greater than or equal to ").appendLiteral(b)}})};JsHamcrest.Matchers.lessThan=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return a<b},describeTo:function(a){a.append("less than ").appendLiteral(b)}})};
JsHamcrest.Matchers.lessThanOrEqualTo=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return a<=b},describeTo:function(a){a.append("less than or equal to ").append(b)}})};JsHamcrest.Matchers.notANumber=function(){return new JsHamcrest.SimpleMatcher({matches:function(b){return isNaN(b)},describeTo:function(b){b.append("not a number")}})};JsHamcrest.Matchers.divisibleBy=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return 0===a%b},describeTo:function(a){a.append("divisible by ").appendLiteral(b)}})};
JsHamcrest.Matchers.even=function(){return new JsHamcrest.SimpleMatcher({matches:function(b){return 0===b%2},describeTo:function(b){b.append("even")}})};JsHamcrest.Matchers.odd=function(){return new JsHamcrest.SimpleMatcher({matches:function(b){return 0!==b%2},describeTo:function(b){b.append("odd")}})};JsHamcrest.Matchers.between=function(b){return{and:function(a){var c=a,d=b;b>a&&(c=b,d=a);return new JsHamcrest.SimpleMatcher({matches:function(a){return a>=d&&a<=c},describeTo:function(a){a.append("between ").appendLiteral(d).append(" and ").appendLiteral(c)}})}}};
JsHamcrest.Matchers.closeTo=function(b,a){a||(a=0);return new JsHamcrest.SimpleMatcher({matches:function(c){return 0>=Math.abs(c-b)-a},describeTo:function(c){c.append("number within ").appendLiteral(a).append(" of ").appendLiteral(b)}})};JsHamcrest.Matchers.zero=function(){return new JsHamcrest.SimpleMatcher({matches:function(b){return 0===b},describeTo:function(b){b.append("zero")}})};
JsHamcrest.Matchers.equalIgnoringCase=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return a.toUpperCase()==b.toUpperCase()},describeTo:function(a){a.append('equal ignoring case "').append(b).append('"')}})};JsHamcrest.Matchers.containsString=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return 0<=a.indexOf(b)},describeTo:function(a){a.append('contains string "').append(b).append('"')}})};
JsHamcrest.Matchers.startsWith=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return 0===a.indexOf(b)},describeTo:function(a){a.append("starts with ").appendLiteral(b)}})};JsHamcrest.Matchers.endsWith=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return a.lastIndexOf(b)+b.length==a.length},describeTo:function(a){a.append("ends with ").appendLiteral(b)}})};
JsHamcrest.Matchers.matches=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return b.test(a)},describeTo:function(a){a.append("matches ").appendLiteral(b)}})};JsHamcrest.Matchers.emailAddress=function(){var b=/^([a-z0-9_\.\-\+])+\@(([a-z0-9\-])+\.)+([a-z0-9]{2,4})+$/i;return new JsHamcrest.SimpleMatcher({matches:function(a){return b.test(a)},describeTo:function(a){a.append("email address")}})};
JsHamcrest.Matchers.hasMember=function(b,a){void 0===a?a=JsHamcrest.Matchers.anything():JsHamcrest.isMatcher(a)||(a=JsHamcrest.Matchers.equalTo(a));return new JsHamcrest.SimpleMatcher({matches:function(c){return c&&b in c?a.matches(c[b]):!1},describeTo:function(c){c.append("has member ").appendLiteral(b).append(" (").appendDescriptionOf(a).append(")")}})};
JsHamcrest.Matchers.hasFunction=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return a?b in a&&a[b]instanceof Function:!1},describeTo:function(a){a.append("has function ").appendLiteral(b)}})};JsHamcrest.Matchers.instanceOf=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return!!(a instanceof b)},describeTo:function(a){var c=b.name?b.name:"a class";a.append("instance of ").append(c)}})};
JsHamcrest.Matchers.typeOf=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return typeof a==b},describeTo:function(a){a.append("typeof ").append('"').append(b).append('"')}})};JsHamcrest.Matchers.object=function(){return new JsHamcrest.Matchers.instanceOf(Object)};JsHamcrest.Matchers.string=function(){return new JsHamcrest.Matchers.typeOf("string")};JsHamcrest.Matchers.number=function(){return new JsHamcrest.Matchers.typeOf("number")};JsHamcrest.Matchers.bool=function(){return new JsHamcrest.Matchers.typeOf("boolean")};
JsHamcrest.Matchers.func=function(){return new JsHamcrest.Matchers.instanceOf(Function)};JsHamcrest.Matchers.hasItem=JsHamcrest.EqualTo(function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){if(!(a instanceof Array))return!1;for(var c=0;c<a.length;c++)if(b.matches(a[c]))return!0;return!1},describeTo:function(a){a.append("array contains item ").appendDescriptionOf(b)}})});
JsHamcrest.Matchers.hasItems=function(){for(var b=[],a=0;a<arguments.length;a++)b.push(JsHamcrest.Matchers.hasItem(arguments[a]));return JsHamcrest.Matchers.allOf(b)};JsHamcrest.Matchers.everyItem=JsHamcrest.EqualTo(function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){if(!(a instanceof Array))return!1;for(var c=0;c<a.length;c++)if(!b.matches(a[c]))return!1;return!0},describeTo:function(a){a.append("every item ").appendDescriptionOf(b)}})});
JsHamcrest.Matchers.isIn=function(){var b=JsHamcrest.Matchers.equalTo,a=arguments;a[0]instanceof Array&&(a=a[0]);return new JsHamcrest.SimpleMatcher({matches:function(c){for(var d=0;d<a.length;d++)if(b(a[d]).matches(c))return!0;return!1},describeTo:function(b){b.append("one of ").appendLiteral(a)}})};JsHamcrest.Matchers.oneOf=JsHamcrest.Matchers.isIn;JsHamcrest.Matchers.empty=function(){return new JsHamcrest.SimpleMatcher({matches:function(b){return 0===b.length},describeTo:function(b){b.append("empty")}})};
JsHamcrest.Matchers.hasSize=JsHamcrest.EqualTo(function(b){var a=function(a){var b=a.length;if(void 0===b&&"object"===typeof a){var b=0,e;for(e in a)b++}return b};return new JsHamcrest.SimpleMatcher({matches:function(c){return b.matches(a(c))},describeTo:function(a){a.append("has size ").appendDescriptionOf(b)},describeValueTo:function(b,d){d.append(a(b))}})});
JsHamcrest.Matchers.equivalentMap=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return JsHamcrest.retreiveEntityMatcherFunction(a)===JsHamcrest.areMapsEquivalent&&JsHamcrest.retreiveEntityMatcherFunction(b)===JsHamcrest.areMapsEquivalent?JsHamcrest.areMapsEquivalent(b,a):!1},describeTo:function(a){a.append("map equivalent to ").appendLiteral(b)}})};
JsHamcrest.Matchers.equivalentArray=function(b){return new JsHamcrest.SimpleMatcher({matches:function(a){return b instanceof Array&&a instanceof Array?JsHamcrest.areArraysEquivalent(b,a):!1},describeTo:function(a){a.append("array equivalent to ").appendLiteral(b)}})};JsHamcrest.Operators={};
JsHamcrest.Operators.filter=function(b,a){if(!(b instanceof Array)||null==a)return b;a instanceof JsHamcrest.SimpleMatcher||(a=JsHamcrest.Matchers.equalTo(a));for(var c=[],d=0;d<b.length;d++)a.matches(b[d])&&c.push(b[d]);return c};
JsHamcrest.Operators.assert=function(b,a,c){c=c?c:{};var d=new JsHamcrest.Description;null==a?a=JsHamcrest.Matchers.truth():JsHamcrest.isMatcher(a)||(a=JsHamcrest.Matchers.equalTo(a));c.message&&d.append(c.message).append(". ");d.append("Expected ");a.describeTo(d);a.matches(b)?(d.append(": Success"),d.passed=!0,c.pass&&c.pass(d.get())):(d.passed=!1,d.append(" but was "),a.describeValueTo(b,d),c.fail&&c.fail(d.get()));return d};
JsHamcrest.Operators.callTo=function(){var b=[].shift.call(arguments),a=arguments;return function(){return b.apply(this,a)}};
JsHamcrest.Integration=function(){var b=this;return{copyMembers:function(a,b){if(1==arguments.length)b=a,JsHamcrest.Integration.copyMembers(JsHamcrest.Matchers,b),JsHamcrest.Integration.copyMembers(JsHamcrest.Operators,b);else if(a)for(var d in a)d in b||(b[d]=a[d])},installMatchers:function(a){JsHamcrest.Integration.copyMembers(a,JsHamcrest.Matchers)},installOperators:function(a){JsHamcrest.Integration.copyMembers(a,JsHamcrest.Operators)},WebBrowser:function(){JsHamcrest.Integration.copyMembers(b);
  b.assertThat=function(a,b,d){return JsHamcrest.Operators.assert(a,b,{message:d,fail:function(a){alert("[FAIL] "+a)},pass:function(a){alert("[SUCCESS] "+a)}})}},Rhino:function(){JsHamcrest.Integration.copyMembers(b);b.assertThat=function(a,b,d){return JsHamcrest.Operators.assert(a,b,{message:d,fail:function(a){print("[FAIL] "+a+"\n")},pass:function(a){print("[SUCCESS] "+a+"\n")}})}},JsTestDriver:function(a){function c(a){a=Error(a);a.name="AssertError";try{for(var b=/jshamcrest.*.js:/i,c=a.stack.split("\n"),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    h="",g=0;g<c.length;g++)b.test(c[g])||(h+=c[g]+"\n");a.stack=h}catch(j){}throw a;}a=a?a:{};a=a.scope||b;JsHamcrest.Integration.copyMembers(a);a.assertThat=function(a,b,f){return JsHamcrest.Operators.assert(a,b,{message:f,fail:c})}},Nodeunit:function(a){a=a?a:{};a=a.scope||global;JsHamcrest.Integration.copyMembers(a);a.assertThat=function(a,b,e,f){return JsHamcrest.Operators.assert(a,b,{message:e,fail:function(a){f.ok(!1,a)},pass:function(a){f.ok(!0,a)}})}},JsUnitTest:function(a){a=a?a:{};a=a.scope||
  JsUnitTest.Unit.Testcase.prototype;JsHamcrest.Integration.copyMembers(a);a.assertThat=function(a,b,e){var f=this;return JsHamcrest.Operators.assert(a,b,{message:e,fail:function(a){f.fail(a)},pass:function(){f.pass()}})}},YUITest:function(a){a=a?a:{};a=a.scope||b;JsHamcrest.Integration.copyMembers(a);a.Assert=YAHOO.util.Assert;YAHOO.util.Assert.that=function(a,b,e){return JsHamcrest.Operators.assert(a,b,{message:e,fail:function(a){YAHOO.util.Assert.fail(a)}})}},QUnit:function(a){a=a?a:{};a=a.scope||
  b;JsHamcrest.Integration.copyMembers(a);a.assertThat=function(a,b,e){return JsHamcrest.Operators.assert(a,b,{message:e,fail:function(a){QUnit.ok(!1,a)},pass:function(a){QUnit.ok(!0,a)}})}},jsUnity:function(a){a=a?a:{};var b=a.scope||jsUnity.env.defaultScope;a=a.attachAssertions||!1;JsHamcrest.Integration.copyMembers(b);a&&jsUnity.attachAssertions(b);b.assertThat=function(a,b,c){return JsHamcrest.Operators.assert(a,b,{message:c,fail:function(a){throw a;}})}},screwunit:function(a){a=a?a:{};a=a.scope||
  Screw.Matchers;JsHamcrest.Integration.copyMembers(a);a.assertThat=function(a,b,e){return JsHamcrest.Operators.assert(a,b,{message:e,fail:function(a){throw a;}})}},jasmine:function(a){a=a?a:{};a=a.scope||b;JsHamcrest.Integration.copyMembers(a);a.assertThat=function(a,b,e){return JsHamcrest.Operators.assert(a,b,{message:e,fail:function(a){jasmine.getEnv().currentSpec.addMatcherResult(new jasmine.ExpectationResult({passed:!1,message:a}))},pass:function(a){jasmine.getEnv().currentSpec.addMatcherResult(new jasmine.ExpectationResult({passed:!0,
  message:a}))}})}}}}();"undefined"!==typeof exports&&(exports.JsHamcrest=JsHamcrest);

//Shim as AMD module
define('ember-aupac-mocks', [], function() {
  'use strict';

  return {
    Mocks: JsMockito,
    Matchers: JsHamcrest
  };
});

